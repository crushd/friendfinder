<!doctype html>
<html lang="en">
  <head>
    <title>Friend Finder</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Reset CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <!-- jQuery UI -->
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">

    <!-- Style -->
    <link rel="stylesheet" href="assets/css/style.css" >


  </head>
  <body>
      
    <div class="container">


        <div class="jumbotron jumbotron-fluid text-center">
            <div class="container">
                <div>
                    <h1 class="display-3"><i class="fab fa-facebook-square"></i> Friend Finder</h1>
                    <h3 class="text-center">Survey Questions</h3>
                </div>
            </div>
        </div>

        <form>
        
            <div class="row">
            
                <div class="col-md-6 py-3">
                    <h5>Name (Required)</h5>
                    <input type="text" id="name" class="form-control" required>
                </div>

                <div class="col-md-6 py-3">
                    <h5>Link to Photo Image (Required)</h5>
                    <input type="text" id="photo" class="form-control" required>
                </div>

            </div>
            <hr>
    
            <div class="text-center py-3">
                <div class="card">
                    <div class="card-header"><strong>One</strong></div>
                    <div class="card-body">
                        <div class="card-title">
                            <h3>I love to daydream</h3>
                        </div>
                        <div class="input-group mb-3">
                        <select class="form-control chosen-select" id="q1">
                            <option value=""></option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                        </div>
                    </div>
                </div>       
            </div>
        
            <div class="text-center py-3">
                <div class="card">
                    <div class="card-header"><strong>Two</strong></div>
                    <div class="card-body">
                        <div class="card-title">
                            <h3>I start tasks right away</h3>
                        </div>
                        <div class="input-group mb-3">
                        <select class="form-control chosen-select" id="q2">
                            <option value=""></option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center py-3">
                <div class="card">
                    <div class="card-header"><strong>Three</strong></div>
                    <div class="card-body">
                        <div class="card-title">
                            <h3>I love to help others</h3>
                        </div>
                        <div class="input-group mb-3">
                        <select class="form-control chosen-select" id="q3">
                            <option value=""></option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                        </div>
                    </div>
                </div>
            </div>
        
        
            <div class="text-center py-3">
                <div class="card">
                    <div class="card-header"><strong>Four</strong></div>
                    <div class="card-body">
                        <div class="card-title">
                            <h3>I believe in the importance of art</h3>
                        </div>
                        <div class="input-group mb-3">
                        <select class="form-control chosen-select" id="q4">
                            <option value=""></option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                        </div>
                    </div>
                </div>
            </div>
        
        
        
            <div class="text-center py-3">
                <div class="card">
                    <div class="card-header"><strong>Five</strong></div>
                    <div class="card-body">
                        <div class="card-title">
                            <h3>I love large parties</h3>
                        </div>
                        <div class="input-group mb-3">
                            <select class="form-control chosen-select" id="q5">
                                <option value=""></option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        
        
            <div class="text-center py-3">
                <div class="card">
                    <div class="card-header"><strong>Six</strong></div>
                    <div class="card-body">
                        <div class="card-title">
                            <h3>I like music</h3>
                        </div>
                        <div class="input-group mb-3">
                            <select class="form-control chosen-select" id="q6">
                                <option value=""></option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        
            <div class="text-center py-3">
                <div class="card">
                    <div class="card-header"><strong>Seven</strong></div>
                    <div class="card-body">
                        <div class="card-title">
                            <h3>I like to visit new places</h3>
                        </div>
                        <div class="input-group mb-3">
                        <select class="form-control chosen-select" id="q7">
                            <option value=""></option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center py-3">
                    <div class="card">
                        <div class="card-header"><strong>Eight</strong></div>
                        <div class="card-body">
                            <div class="card-title">
                                <h3>I like to play video games</h3>
                            </div>
                            <div class="input-group mb-3">
                            <select class="form-control chosen-select" id="q8">
                                <option value=""></option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5 (Strongly Agree)</option>
                            </select>
                            </div>
                        </div>
                    </div>
            </div>
        
            <div class="text-center py-3">
                <div class="card">
                    <div class="card-header"><strong>Nine</strong></div>
                    <div class="card-body">
                        <div class="card-title">
                            <h3>I can't make up my mind</h3>
                        </div>
                        <div class="input-group mb-3">
                        <select class="form-control chosen-select" id="q9">
                            <option value=""></option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                        </div>
                    </div>
                </div>
            </div>
    
        <div class="text-center py-3">
            <div class="card">
                <div class="card-header"><strong>Ten</strong></div>
                <div class="card-body">
                    <div class="card-title">
                        <h3>I enjoy being part of a group</h3>
                    </div>
                    <div class="input-group mb-3">
                        <select class="form-control chosen-select" id="q10">
                            <option value=""></option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Submit Button -->
        <div class="text-center py-3">
            <button type="submit" class="btn btn-primary btn-lg" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i> Submit</button>
        </div>
    </form>
    </div>
    
    <div class="container text-center py-3">
            <a href="../">Friend Finder</a> <i class="fas fa-star-of-life px-3"></i> <a href="api/friends">API Friends List</a> <i class="fas fa-star-of-life px-3"></i> <a href="https://github.com/crushd/friendfinder">GitHub Repo</a> <i class="fas fa-star-of-life px-3"></i> <a href="mailto:codyrush@gmail.com">codyrush@gmail.com</a>
    </div>
      
    <!-- Optional JavaScript -->
    <!-- jQuery first, then jQuery UI, and finally Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <script>
    $(document).on("click", "#submit", function(){
        
        event.preventDefault();

        var tempScores = [/*q1,q2,q3,q4,q5,q6,q7,q8,q9,q10*/];
        /* for (var i=1; i < 2; i++) {
            tempScores.push($('#q'+[i]).val());
        } */
            tempScores.push($('#q1').val());
            tempScores.push($('#q2').val());
            tempScores.push($('#q3').val());
            tempScores.push($('#q4').val());
            tempScores.push($('#q5').val());
            tempScores.push($('#q6').val());
            tempScores.push($('#q7').val());
            tempScores.push($('#q8').val());
            tempScores.push($('#q9').val());
            tempScores.push($('#q10').val());

		// Here we grab the form elements
		var potentialFriend = {
			name: $('#name').val(),
			photo: $('#photo').val(),
			scores: tempScores
		};

		console.log(potentialFriend);

		// This line is the magic. It's very similar to the standard ajax function we used.
		// Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
		// The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
		// depending on if a tables is available or not.

		// Here we get the location of the root page.
		// We use this instead of explicitly saying the URL is localhost:3001 because the url will change when we deploy.
		var currentURL = window.location.origin;

	    $.post(currentURL + "/api/friends", potentialFriend,
	    function(data){
            console.log("----");
            console.log(data);
            console.log("----");

	    	// If a table is available... tell user they are booked.
	    	if(data){
	    		alert("Data saved.")
	    	}

	    	// If a table is not available... tell user they on the waiting list.
	    	else {
	    		alert("Sorry, not saved.")
	    	}

	    	// Clear the form when submitting
    		$('#name').val("");
			$('#photo').val("");
			$('#q1').val("");
			$('#q2').val("");
			$('#q3').val("");
			$('#q4').val("");
			$('#q5').val("");
			$('#q6').val("");
			$('#q7').val("");
			$('#q8').val("");
			$('#q9').val("");
			$('#q10').val("");

	    });

});

</script>

</body>
</html>